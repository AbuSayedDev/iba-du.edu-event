<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
        <!-- Style CSS -->
        <title>IBA Digital Raffle Draw</title>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

        <!-- Style CSS -->
        <link rel="stylesheet" href="assets/css/reffaldrow.css" />


    </head>
    <body>
        <div class="container">

            <div class="row">
                <div class="col-md-12">
                    <div class="card mt-5">
                        <div class="card-header text-center">
                            <h1>IBA Alumni Association <span style="color:#E65127;"> Reffal Drow</span></h1>
                        </div>
                    </div>
                </div>
            </div>


            <div class="row my-5">
                <div class="col-md-12">
                    <div class="card py-5">
                        
                        <div id="box">
                            <div id="list">
                                <div>
                                    <p>0</p>
                                </div>
                                <div>
                                    <p>0</p>
                                </div>
                                <div>
                                    <p>0</p>
                                </div>
                                <div>
                                    <p>0</p>
                                </div>
                            </div>

                            <div class="raffledraw-btnarea text-center">
                                <button type="button" id="go" class="btn btn-success custom-raffledraw-btn">GO</button>
                                <a href="details.html" target="_blank" class="btn btn-success custom-raffledraw-btn">View</a>
                            </div>
                        </div>
                        
                    </div>

                </div>
            </div>
        </div>


        <div class="container">
            <div class="footer pt-5">
                <div class="row">
                    <div class="col-md-12">
                        <div class="heading text-center pt-5">
                            <img src="img/IBAlogo1.png" alt="Responsive image" style="width: 250px; height: auto;">
                        </div>
                    </div>
    
                    <div class="col-md-12">
                        <div class="copyright text-center pt-5">
                            <span style="font-size: 18px; font-weight: bold;">Powered By Digital Partner | <a href="https://reinforcelab.com/" target="_blank">Reinforce Lab</a></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
        <script>
            $(function () {
            function goAniSort() {
                var roll = ['roll1', 'roll2', 'roll3', 'roll4'];
                $('#list div').removeClass('move').css({ 'left': 750 });
                $('#list div p').removeClass(roll).css({ 'left': 500 });
                do {
                    var num = new Array();
                    var a = false;
                    for (var i = 0; i < 6; i++) {
                        num[i] = Math.floor(Math.random() * 49 + 1);
                    }
                    for (var i = 0; i < 6; i++) {
                        for (var j = i + 1; j < 6; j++) {
                            if (num[i] == num[j]) {
                                a = true;
                                console.log('get');
                            }
                        }
                    }
                } while (a);
                var t;
                for (var i = 0; i < 5; i++) {
                    for (var j = i + 1; j < 5; j++) {
                        if (num[i] > num[j]) {
                            t = num[i];
                            num[i] = num[j];
                            num[j] = t;
                        }
                    }
                }

                // num.sort(function (a, b) { return b - a });
                // num.reverse();//排序
                console.log(num);
                for (var i = 0; i < 6; i++) {
                    $('#list div p').eq(i).html(num[i]);
                }
                var i = 0;

                function moveTo() {
                    $('#list div').eq(i).animate({ 'left': 250 * i }
                        , 0
                        , function () {
                            $(this).addClass('shake');
                            $('#list div p').eq(i).addClass(roll[i]);
                            setTimeout(moveTo, 1000);
                            i++;
                        }).addClass('move');

                }
                moveTo();


                return false;
            }

            function goAniUnsort() {
                var roll = ['roll1', 'roll2', 'roll3', 'roll4'];
                $('#list div').removeClass('move').css({ 'left': 750 });
                $('#list div p').removeClass(roll).css({ 'left': 500 });
                do {
                    var num = new Array();
                    var a = false;
                    for (var i = 0; i < 6; i++) {
                        num[i] = Math.floor(Math.random() * 49 + 1);
                    }
                    for (var i = 0; i < 6; i++) {
                        for (var j = i + 1; j < 6; j++) {
                            if (num[i] == num[j]) {
                                a = true;
                                console.log('get');
                            }
                        }
                    }
                } while (a);

                // num.sort(function (a, b) { return b - a });
                // num.reverse();//排序
                console.log(num);
                for (var i = 0; i < 6; i++) {
                    $('#list div p').eq(i).html(num[i]);
                }
                var i = 0;

                function moveTo() {
                    $('#list div').eq(i).animate({ 'left': 180 * i }
                        , 0
                        , function () {
                            $(this).addClass('shake');
                            $('#list div p').eq(i).addClass(roll[i]);
                            setTimeout(moveTo, 1000);
                            i++;
                        }).addClass('move');

                }
                moveTo();


                return false;
            }
            $('#sort').addClass('green');
            $('#sort').click(function () {
                var a = $(this).attr('data-status');
                if (a == 'sort') {
                    $(this).toggleClass('green red').attr('data-status', 'unsort').html('unsort');
                } else {
                    $(this).toggleClass('green red').attr('data-status', 'sort').html('sort');
                }
            });


            var isClick = true;
            $('#go').click(function () {
                if (isClick) {
                    isClick = false;
                    var a = $('#sort').attr('data-status');
                    if (a == 'sort') {
                        goAniSort();
                    } else {
                        goAniUnsort();
                    }
                    setTimeout(function () {
                        isClick = true;
                    }, 6800);
                    $(this).addClass('p-e-n').animate({ 'opacity': '.3' }, 0, function () {
                        $(this).delay(6800).animate({ 'opacity': '1' }, 0, function () {
                            $(this).removeClass('p-e-n');
                        });
                    });
                    $('#sort').addClass('p-e-n').animate({ 'opacity': '.3' }, 0, function () {
                        $(this).delay(6800).animate({ 'opacity': '1' }, 0, function () {
                            $(this).removeClass('p-e-n');
                        });
                    });
                }
            });
        });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    
    </body>
</html>
